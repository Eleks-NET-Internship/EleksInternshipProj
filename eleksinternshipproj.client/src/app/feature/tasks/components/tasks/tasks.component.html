<div class="task-container">
  <!-- Header -->
  <div class="task-header">
    <div class="header-title">üìã –ú–æ—ó –∑–∞–≤–¥–∞–Ω–Ω—è</div>
    <div class="header-actions">
      <button class="add-task-btn" (click)="openAddTaskDialog()">+ –î–æ–¥–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è</button>
    </div>
  </div>

  <!-- Divider -->
  <div class="task-divider"></div>

  <!-- Task List -->
  <div class="task-content" *ngIf="tasks.length > 0; else noTasks">
    <mat-card class="task-card" *ngFor="let task of tasks">
      <div class="task-card-content" (click)="openTaskDetails(task)">
        <div class="task-name">{{ task.name }}</div>

        <div class="task-meta">
          <div class="task-meta-field">
            <span class="field-label">–°—Ç–∞—Ç—É—Å:</span>
            <mat-chip class="task-status" color="primary" selected>
              {{ task.statusName || ('ID: ' + task.statusId) }}
            </mat-chip>
          </div>

          <div class="task-meta-field deadline-field">
            <span class="field-label">–î–µ–¥–ª–∞–π–Ω:</span>
            <div class="task-deadline">
              <mat-icon class="clock-icon" color="warn">schedule</mat-icon>
              <span *ngIf="task.eventTime !== '0001-01-01T00:00:00'; else noDeadline">
                {{ task.eventTime | date:'dd.MM.yyyy HH:mm' }}
              </span>
              <ng-template #noDeadline>
                <span class="no-deadline">–î–µ–¥–ª–∞–π–Ω –Ω–µ –∑–∞–¥–∞–Ω–æ</span>
              </ng-template>
            </div>
          </div>
        </div>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è -->
      <div class="task-actions">
        <button mat-icon-button color="warn" (click)="deleteTask(task.id, $event)">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </mat-card>
  </div>

  <!-- Empty -->
  <ng-template #noTasks>
    <div class="empty-message">–ó–∞–≤–¥–∞–Ω—å –ø–æ–∫–∏ –Ω–µ–º–∞—î. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–î–æ–¥–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è".</div>
  </ng-template>
</div>
